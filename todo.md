# أقباط الشباب - نظام تسجيل الحضور

## قاعدة البيانات والهيكل الأساسي
- [x] إنشاء جدول الأعضاء (members) مع الحقول: ID، الاسم، الصورة، QR Code
- [x] إنشاء جدول سجلات الحضور (attendance) مع التاريخ والوقت
- [x] إنشاء إجراءات قاعدة البيانات الأساسية

## واجهة المستخدم الرئيسية
- [x] تصميم الواجهة الرئيسية بـ 3 أقسام (مسح QR، بحث، عرض البيانات)
- [x] تطبيق مكتبة مسح QR Code (jsQR)
- [x] إنشاء خانة البحث بالرقم التعريفي
- [x] عرض صورة الشخص والرقم التعريفي والاسم فوراً

## نظام تسجيل الحضور
- [x] تسجيل الحضور تلقائياً عند مسح الكود
- [x] حفظ التاريخ والوقت بشكل صحيح
- [x] توليد QR Code فريد لكل عضو
- [x] التحقق من عدم تسجيل الحضور مرتين في نفس اليوم

## إدارة الأعضاء
- [x] لوحة تحكم لإضافة أعضاء جدد
- [ ] رفع صور الأعضاء (يتم عبر رابط URL)
- [x] تعديل بيانات الأعضاء
- [x] حذف الأعضاء
- [x] توليد QR Code تلقائياً عند الإضافة

## سجلات الحضور والفلترة
- [x] عرض سجلات الحضور الكاملة
- [x] فلترة حسب التاريخ
- [x] فلترة حسب العضو
- [x] عرض إحصائيات الحضور

## التصميم والواجهة
- [x] تطبيق تصميم أنيق وسهل الاستخدام
- [x] دعم كامل للغة العربية
- [x] استخدام Tailwind CSS و shadcn/ui
- [x] تصميم responsive يعمل على الهواتف والأجهزة اللوحية

## الاختبار والتحسينات
- [x] اختبار مسح QR Code
- [x] اختبار البحث بالرقم التعريفي
- [x] اختبار تسجيل الحضور
- [x] اختبار إدارة الأعضاء
- [x] التحقق من الأداء والاستجابة

## ميزات إضافية
- [x] توليد QR Code لكل عضو (مكتبة qrcode)
- [x] تحميل QR Code كصورة
- [x] واجهة أنيقة وسهلة الاستخدام
- [x] دعم كامل للغة العربية


## لوحة التحكم والمصادقة
- [x] نظام تسجيل الدخول بـ Username و Password
- [x] إنشاء جدول المسؤولين (admins)
- [x] تشفير كلمات المرور
- [x] صفحة تسجيل الدخول
- [x] صفحة لوحة التحكم
- [x] حماية الوصول إلى الداشبورد

## حقول البيانات المتقدمة
- [x] إضافة حقول جديدة: تاريخ الميلاد، العنوان، أب الاعتراف
- [x] تحديث نموذج إضافة الأعضاء
- [x] تحديث قاعدة البيانات

## البحث المتقدم
- [x] البحث بالاسم والرقم التعريفي والهاتف
- [x] البحث بتاريخ الميلاد (يوم/شهر/سنة)
- [x] البحث حسب الشهر والسنة
- [x] واجهة بحث متقدمة في الداشبورد


## المشاكل المكتشفة والإصلاحات
- [x] تحديث الصفحة الرئيسية (Home.tsx) لعرض واجهة جميلة مع روابط التنقل
- [x] إضافة أزرار للذهاب إلى صفحة الحضور ولوحة التحكم
- [x] تحسين التصميم العام للصفحة الرئيسية


## المتطلبات الجديدة - التحديث الشامل
- [x] إضافة عداد يومي للحاضرين وقائمة بأسماء الحاضرين
- [x] نقل إدارة الأعضاء من صفحة مسح QR إلى لوحة التحكم
- [x] إضافة خانة ويل في صفحة مسح QR تعرض العداد والحاضرين
- [x] إضافة زر ريستارت لإعادة تعيين العداد اليومي
- [x] تنظيم لوحة التحكم: البحث في الأعلى، الحاضرين في المنتصف
- [x] إضافة زر "إدارة الأعضاء" وزر "الأسابيع" في لوحة التحكم
- [x] نظام عرض الأسابيع مع التواريخ والحاضرين لكل أسبوع


## المشاكل والإصلاحات الجديدة
- [x] إنشاء حساب مسؤول افتراضي وإخبار المستخدم باسم المستخدم وكلمة المرور
- [x] إصلاح صفحة إنشاء حساب (Error 404)
- [x] إصلاح مشكلة الكاميرا في صفحة المسح
- [x] تحسين عملية مسح QR Code من الكاميرا


## مشاكل جديدة
- [x] إصلاح مشكلة تسجيل الدخول - عدم الدخول إلى لوحة التحكم وظهور شاشة سوداء


## التحسينات الأخيرة
- [x] إضافة شعار Maa Hayee Meeting فوق الاسم في الصفحة الرئيسية
- [x] تحسين محاذاة الرأس والعنوان

## التحسينات الأخيرة - الجولة الثانية
- [x] إصلاح زرار إعادة التعيين لمسح سجلات الحضور اليومية
- [x] إضافة زرار العودة للصفحة الرئيسية في صفحة تسجيل الدخول
- [x] إضافة أزرار التعديل والحذف للأعضاء في لوحة التحكم


## نظام حسابات الأعضاء - المرحل## نظام حسابات الأعضاء - المرحلة الجديدة
- [x] تحديث قاعدة البيانات لإضافة جدول حسابات الأعضاء (members_accounts)
- [x] إضافة حقول: username، password (مشفرة)، تاريخ الإنشاء
- [x] إنشاء صفحة تسجيل دخول الأعضاء (MemberLogin.tsx)
- [x] إنشاء صفحة إنشاء حساب جديد للأعضاء (MemberRegister.tsx) مع رفع الصور
- [ ] توليد رقم تعريفي تسلسلي تلقائياً عند إنشاء حساب
- [x] بناء الصفحة الشخصية للعضو (MemberDashboard.tsx) مع رفع الصور
- [x] عرض نسبة الحضور في الصفحة الشخصية
- [x] عرض عدد مرات الحضور
- [ ] إضافة ميزة إعادة تعيين كلمة المرور عبر رقم الهاتف
- [ ] حذف صفحة الإحصائيات واستبدالها بصفحة الأعضاء
- [x] تحديث التوجيه (routing) في App.tsx
- [x] إضافة ميزة رفع الصور من الاستوديو في الصفحة الشخصية
- [x] إضافة زر حذف الصورة (×) مع تأكيد
- [ ] حفظ الصور في S3 أو التخزين السحابيحابي
- [ ] عرض الصورة الشخصية في الصفحة الشخصية للعضو


## المتطلبات الفعلية - الإكمال الصحيح (الجولة الحالية)
- [x] إكمال إجراء تسجيل دخول الأعضاء (member.login) مع التحقق من قاعدة البيانات
- [x] إكمال إجراء إنشاء حساب جديد (member.register) مع حفظ البيانات كاملة
- [ ] توليد رقم تعريفي تسلسلي تلقائياً عند إنشاء حساب
- [x] ربط صفحة MemberLogin بالإجراء الفعلي
- [x] ربط صفحة MemberRegister بالإجراء الفعلي
- [ ] إضافة ميزة إعادة تعيين كلمة المرور عبر رقم الهاتف
- [x] عرض إحصائيات الحضور الفعلية في الصفحة الشخصية
- [x] ربط الصفحة الشخصية بقاعدة البيانات لعرض البيانات الفعلية
- [ ] حفظ الصور المرفوعة في S3 أو التخزين السحابي
- [x] اختبار كامل النظام من البداية للنهاية - 16 اختبار ناجح


### الإصلاحات الأخيرة (الجولة الحالية)
- [x] إصلاح أخطاء TypeScript في جميع الملفات
- [x] إصلاح أسماء الإجراءات (procedures) في tRPC
- [x] إنشاء جدول memberAccounts في قاعدة البيانات
- [x] إضافة type annotations في المكونات
- [x] تشغيل الاختبارات الشاملة - 16 اختبار ناجح
- [x] حفظ نقطة تفتيش نهاية


## المهام الجديدة (الجولة الحالية)
- [x] إضافة حقل memberIdSequential إلى جدول members
- [ ] تحديث دوال إنشاء الأعضاء لتوليد الرقم التسلسلي تلقائياً
- [x] بناء صفحة تسجيل/دخول الأعضاء بجميع الحقول المطلوبة
- [x] بناء صفحة الملف الشخصي للعضو مع إحصائيات الحضور بشكل منظم وجميل
- [ ] إضافة ميزة إعادة تعيين كلمة المرور عبر رقم الهاتف
- [ ] ربط البيانات بالداشبورد وعرضها تلقائياً


## المشاكل المكتشفة (الجولة الحالية)
- [ ] إصلاح مشكلة تسجيل الخروج من الداشبورد (يعطي error)
- [ ] إصلاح مشكلة إنشاء الحساب في صفحة الأعضاء (An unexpected error occurred)

## الإصلاحات المكتملة (الجولة الحالية)
- [x] إصلاح مشكلة إنشاء الحساب في صفحة الأعضاء - الآن ينشئ عضو تلقائياً عند التسجيل
- [x] إصلاح أخطاء TypeScript في المكونات
- [x] جميع الاختبارات تعمل بنجاح (16 اختبار ناجح)


## المشاكل الحالية - الجولة الجديدة
- [ ] إصلاح صفحة الملف الشخصي للعضو (تعطي أخطاء عند تسجيل الدخول)
- [ ] التأكد من أن البيانات تظهر بشكل صحيح في صفحة الملف الشخصي
- [ ] التأكد من أن البيانات تظهر في الداشبورد تلقائياً بدون username و password
- [ ] اختبار شامل لتدفق التسجيل والدخول والملف الشخصي

## المتطلبات الجديدة - الجولة الحالية
- [x] إصلاح عرض الصور الشخصية - عرض الصورة الفعلية بدلاً من مربع أسود
- [x] تحويل الأرقام التعريفية إلى أرقام تسلسلية بسيطة (1, 2, 3, ...)
- [x] تحديث البحث والـ QR Code ليستخدما الرقم التعريفي من الداشبورد
- [x] تقييد الداشبورد لحساب admin واحد فقط (username: admin, password: admin123456)

## المشاكل الجديدة - الجولة الحالية (يجب إصلاحها واحدة واحدة)
- [x] مشكلة 1: الصورة في الملف الشخصي تظهر سوداء بدلاً من الصورة الفعلية - يجب عرض الصورة بشكل صحيح وحفظها في الداشبورد
- [x] مشكلة 2: الأرقام التعريفية ليست تسلسلية بسيطة (1, 2, 3, ...) - يجب تصحيح النظام
- [x] مشكلة 3: البحث والـ QR Code يجب أن يبحثا في الداشبورد فقط (وليس قاعدة البيانات مباشرة)
- [x] مشكلة 4: الداشبورد يجب أن يكون تسجيل دخول فقط بدون إنشاء حساب جديد
